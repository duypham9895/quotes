(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{17:function(e,t,n){e.exports={header:"MainNavigation_header__pcWBd",logo:"MainNavigation_logo__3mTft",nav:"MainNavigation_nav__2KJfX",active:"MainNavigation_active__oN3Ka"}},24:function(e,t,n){"use strict";var r=n(43),c=n.n(r),a=n(3);t.a=function(e){var t=e.isLoading,n=e.className,r=void 0===n?"":n;if(t)return Object(a.jsx)("div",{className:"centered",children:Object(a.jsx)("div",{className:"".concat(r," ").concat(c.a.spinner)})})}},25:function(e,t,n){"use strict";var r=n(12),c=n(4),a=n(6),s=n(5),o=n(0);function u(e,t){switch(t.type){case"SEND":return{data:null,error:null,status:"pending"};case"SUCCESS":return{data:t.responseData,error:null,status:"completed"};case"ERROR":return{data:null,error:t.errorMessage,status:"completed"};default:return e}}t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(o.useReducer)(u,{status:t?"pending":null,data:null,error:null}),i=Object(s.a)(n,2),j=i[0],l=i[1],m=Object(o.useCallback)(function(){var t=Object(a.a)(Object(c.a)().mark((function t(n){var r;return Object(c.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l({type:"SEND"}),t.prev=1,t.next=4,e(n);case 4:r=t.sent,l({type:"SUCCESS",responseData:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),l({type:"ERROR",errorMessage:t.t0.message||"Something went wrong!"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(r.a)({sendRequest:m},j)}},26:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n(4),c=n(12),a=n(5),s=n(6),o="https://react-complete-guilde-default-rtdb.asia-southeast1.firebasedatabase.app";function u(){return i.apply(this,arguments)}function i(){return(i=Object(s.a)(Object(r.a)().mark((function e(){var t,n,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/quotes.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,t.ok){e.next=8;break}throw new Error(n.message||"Could not fetch quotes.");case 8:return s=Object.entries(n).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(c.a)(Object(c.a)({},r),{},{id:n})})),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return l.apply(this,arguments)}function l(){return(l=Object(s.a)(Object(r.a)().mark((function e(t){var n,a;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/quotes/").concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:if(a=e.sent,n.ok){e.next=8;break}throw new Error(a.message||"Could not fetch quote.");case 8:if(a){e.next=10;break}return e.abrupt("return",null);case 10:return e.abrupt("return",Object(c.a)({id:t},a));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return b.apply(this,arguments)}function b(){return(b=Object(s.a)(Object(r.a)().mark((function e(t){var n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/quotes.json"),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:if(c=e.sent,n.ok){e.next=8;break}throw new Error(c.message||"Could not create quote.");case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=Object(s.a)(Object(r.a)().mark((function e(t){var n,c,a,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commentData,c=t.quoteId,e.next=3,fetch("".concat(o,"/comments/").concat(c,".json"),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:if(s=e.sent,a.ok){e.next=9;break}throw new Error(s.message||"Could not add comment.");case 9:return e.abrupt("return",{commentId:s.name});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return O.apply(this,arguments)}function O(){return(O=Object(s.a)(Object(r.a)().mark((function e(t){var n,s,u;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(o,"/comments/").concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:if(s=e.sent,n.ok){e.next=8;break}throw new Error(s.message||"Could not get comments.");case 8:if(s){e.next=10;break}return e.abrupt("return",[]);case 10:return u=Object.entries(s).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(c.a)({id:n},r)})),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},29:function(e,t,n){e.exports={form:"NewCommentForm_form__2Te8b",loading:"NewCommentForm_loading__2veC2",control:"NewCommentForm_control__3NVeP",actions:"NewCommentForm_actions__2fwWP"}},42:function(e,t,n){e.exports={comments:"Comments_comments__iZX-v"}},43:function(e,t,n){e.exports={spinner:"LoadingSpinner_spinner__2Kyqv"}},44:function(e,t,n){e.exports={item:"CommentItem_item__24mbD"}},45:function(e,t,n){e.exports={comments:"CommentsList_comments__valp0"}},46:function(e,t,n){e.exports={main:"Layout_main__auk_r"}},64:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(41),s=n.n(a),o=n(11),u=(n(64),n(2)),i=n(5),j=n(42),l=n.n(j),m=n(35),b=n.n(m),d=n(24),f=n(44),p=n.n(f),O=n(3),h=function(e){var t=e.text;return Object(O.jsx)("li",{className:p.a.item,children:Object(O.jsx)("p",{children:t})})},x=n(45),v=n.n(x),_=function(e){var t=e.comments,n=void 0===t?[]:t,r=e.status,c=(e.error,"pending"===r),a="completed"===r&&b()(n);return c?Object(O.jsx)(d.a,{isLoading:c}):a?Object(O.jsx)("p",{className:"centered",children:"Not found comments yet!"}):Object(O.jsx)("ul",{className:v.a.comments,children:n.map((function(e){var t=e.id,n=e.text;return Object(O.jsx)(h,{text:n},t)}))})},g=n(25),w=n(26),N=n(29),y=n.n(N),C=function(e){var t=e.quoteId,n=e.refreshComments,c=Object(r.useRef)(),a=Object(g.a)(w.a),s=a.sendRequest,o=a.status,u=a.error;Object(r.useEffect)((function(){"completed"!==o||u||n()}),[o,u,n]);return Object(O.jsxs)("form",{className:y.a.form,onSubmit:function(e){e.preventDefault();var n=c.current.value;s({commentData:{text:n},quoteId:t})},children:[Object(O.jsxs)("div",{className:y.a.control,children:[Object(O.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(O.jsx)("textarea",{id:"comment",rows:"5",ref:c})]}),Object(O.jsx)("div",{className:y.a.actions,children:Object(O.jsx)("button",{className:"btn",children:"Add Comment"})})]})},k=function(){var e=Object(u.p)().quoteId,t=Object(r.useState)(!1),n=Object(i.a)(t,2),c=n[0],a=n[1],s=Object(g.a)(w.c,!0),o=s.sendRequest,j=s.data,m=s.status,b=s.error;Object(r.useEffect)((function(){o(e)}),[o,e]);var d=Object(r.useCallback)((function(){o(e)}),[o,e]);return Object(O.jsxs)("section",{className:l.a.comments,children:[Object(O.jsx)("h2",{children:"User Comments"}),!c&&Object(O.jsx)("button",{className:"btn",onClick:function(){a(!0)},children:"Add a Comment"}),c&&Object(O.jsx)(C,{quoteId:e,refreshComments:d}),Object(O.jsx)(_,{comments:j,status:m,error:b})]})},q=n(46),S=n.n(q),E=n(17),R=n.n(E),I=function(){return Object(O.jsxs)("header",{className:R.a.header,children:[Object(O.jsx)("div",{className:R.a.logo,children:"Great Quotes"}),Object(O.jsx)("nav",{className:R.a.nav,children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)(o.c,{to:"/quotes",className:function(e){return e.isActive?R.a.active:""},children:"Quotes"})}),Object(O.jsx)("li",{children:Object(O.jsx)(o.c,{to:"/new-quote",className:function(e){return e.isActive?R.a.active:""},children:"Add a Quote"})})]})})]})},D=function(e){var t=e.children;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(I,{}),Object(O.jsx)("main",{className:S.a.main,children:t})]})},M=c.a.lazy((function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,180))})),F=c.a.lazy((function(){return n.e(6).then(n.bind(null,181))})),L=c.a.lazy((function(){return n.e(7).then(n.bind(null,179))})),T=c.a.lazy((function(){return n.e(5).then(n.bind(null,182))})),A=function(){return Object(O.jsx)(D,{children:Object(O.jsx)(r.Suspense,{fallback:Object(O.jsx)(d.a,{isLoading:!0}),children:Object(O.jsxs)(u.e,{children:[Object(O.jsx)(u.c,{path:"/",element:Object(O.jsx)(u.a,{to:"/quotes",replace:!0})}),Object(O.jsx)(u.c,{path:"/quotes",element:Object(O.jsx)(M,{})}),Object(O.jsx)(u.c,{path:"/quotes/:quoteId/*",element:Object(O.jsx)(T,{}),children:Object(O.jsx)(u.c,{path:"comments",element:Object(O.jsx)(k,{})})}),Object(O.jsx)(u.c,{path:"/new-quote",element:Object(O.jsx)(F,{})}),Object(O.jsx)(u.c,{path:"*",element:Object(O.jsx)(L,{})})]})})})};s.a.createRoot(document.getElementById("root")).render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(o.a,{children:Object(O.jsx)(A,{})})}))}},[[82,1,3]]]);
//# sourceMappingURL=main.fb4d6309.chunk.js.map